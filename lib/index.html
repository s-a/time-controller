<!DOCTYPE html>
<html>
<head>
	<title>TimeController Testpage</title>
	<script type="text/javascript" src="index.js"></script>
	<style>
		.progress {
		  position: relative;
		  width: 100%;
		  height: 30px;
		  background-color: #ddd;
		}

		.bar {
		  position: absolute;
		  width: 1%;
		  height: 100%;
		  background-color: #4CAF50;
		}
	</style>
</head>
<body>
	<h1>TimeController</h1>
	<pre>
		<code>
		function D() {
			move("bar-d");
		}
		function I() {
			move("bar-i");
		}
		function T() {
			move("bar-t");
		}

		window.addEventListener('mousemove', new TimeControll(T).throttle(1000));
		window.addEventListener('mousemove', new TimeControll(D).debounce(1000));
		window.addEventListener('mousemove', new TimeControll(I).immediate(1000));		
		</code>
	</pre>
	<p>
		Control timers in JavaScript. This demo binds documents mouse move event to trigger time controlled function.
		<strong>Move your mouse and enjoy :O)</strong>
	</p>
	<h2>immediate</h2>
	<div class="progress">
	  <div id="bar-i" style="width:1%" class="bar"></div>
	</div>
	<h2>throttled</h2>
	<div class="progress">
	  <div id="bar-t" style="width:1%" class="bar"></div>
	</div>
	<h2>debounced</h2>
	<div class="progress">
	  <div id="bar-d" style="width:1%" class="bar"></div>
	</div>


	<script>
		function move(barName) {
		  var elem = document.getElementById(barName);
		  var width = parseInt(elem.style.width.replace(/%/g, ""), 10);
	      width++;
	      elem.style.width = width + '%';
		  var id = setInterval(frame, 10);
		  function frame() {
		    if (width >= 100) {
		      clearInterval(id);
		    } else {
		    }
		  }
		}
	</script>
	<script> 
		function D() {
			move("bar-d");
		}
		function I() {
			move("bar-i");
		}
		function T() {
			move("bar-t");
		}

		window.addEventListener('mousemove', new TimeControll(T).throttle(1000));
		window.addEventListener('mousemove', new TimeControll(D).debounce(1000));
		window.addEventListener('mousemove', new TimeControll(I).immediate(1000));
	</script>
</body>
</html>
